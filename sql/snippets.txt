Syncen aller OGN logs:

rsync -avu konstantin@ogn-team-bayern.de:/var/log/ogn/stdout*.gz /Volumes/LaCieBlack/OGNDATA/ --progress

# RUN echo ' .... /scripts/update_ddb.sh' >> /etc/crontabs/root


TimescaleDB:

CSV files can be imported with:

COPY positions
FROM '/mnt/ogn_logfiles/stdout.csv-202301'
WITH (FORMAT CSV, HEADER TRUE)

Zipped CSV files can be imported with:

COPY positions
FROM PROGRAM 'gunzip --to-stdout /mnt/ogn_logfiles/blabla.csv.gz'
WITH (FORMAT CSV)


QuestDB:


-- get the ddb
curl http://ddb.glidernet.org/download/?t=1 > ddb.csv


COPY 'positions'
FROM 'stdout-202212.csv';

SELECT * FROM 'positions';

SELECT * FROM sys.text_import_log WHERE id = '023bb193dfd4228e' ORDER BY ts

PostgreSQL:
COPY 31534580
Query returned successfully in 25 min 45 secs.

QuestDB
handled:    31 534 580
imported:   31 522 201
errors:         12 379
02:58:46


SELECT airport.name AS nearest_airport, s.*
FROM senders AS s
CROSS JOIN LATERAL (
	SELECT *
	FROM openaip AS o
	ORDER BY o.location <-> s.location
	LIMIT 1
) AS airport
WHERE s.location IS NOT NULL